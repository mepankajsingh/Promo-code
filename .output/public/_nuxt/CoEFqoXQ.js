import{u as G,_ as I,a as N}from"./FvKg9nEc.js";import{_ as T}from"./CB8C2eo_.js";import{_ as q}from"./B0bw49uf.js";import{f as _,u as B,a as F,h as R,w as U,c as g,b as e,t as r,k as A,x as C,i as $,d as S,n as E,j as t,p as M,l as O,m as D,F as j,r as z,e as L,o as d}from"./BVDDBvT3.js";import{u as H}from"./D4ohb7b9.js";import"./BeQgeaJJ.js";const Y={class:"min-h-screen bg-white"},J={class:"max-w-2xl mx-auto px-4 py-12"},K={class:"text-center mb-8"},Q={class:"text-3xl font-bold text-gray-900 mb-2"},X={class:"text-gray-600 max-w-xl mx-auto"},Z={class:"bg-gray-50 p-6 mb-6"},ee={class:"grid grid-cols-2 gap-4"},oe={class:"block text-sm font-medium text-gray-700 mb-1"},se=["placeholder"],te={key:0,class:"bg-white border border-gray-200 p-4 text-center"},ae={key:1,class:"bg-white border border-gray-200 p-4 text-center"},re={class:"text-sm font-medium text-gray-700 mb-2"},ie={class:"text-sm text-gray-700"},le={key:2,class:"mt-4 bg-white border border-blue-200 p-4"},ne={class:"space-y-3"},de={key:3,class:"mt-4 bg-white border border-blue-200 p-4"},ce={class:"space-y-3"},me=["onClick"],ue=["disabled"],pe={key:0},ge={key:1},ve={class:"text-sm text-gray-600 bg-yellow-50 border border-yellow-200 p-3 rounded-lg text-center"},fe={class:"mt-12 space-y-8"},be={class:"bg-white border border-gray-200 p-6"},he={class:"text-xl font-semibold text-gray-900 mb-6"},ye={class:"space-y-4"},_e={class:"flex items-start"},xe={class:"text-sm font-medium text-gray-900"},we={class:"text-sm text-gray-600"},ke={class:"flex items-start"},Ce={class:"text-sm font-medium text-gray-900"},$e={class:"text-sm text-gray-600"},Ge={class:"flex items-start"},We={class:"text-sm font-medium text-gray-900"},Be={class:"text-sm text-gray-600"},Ie={__name:"index",setup(Se){const u=H(),w=_(""),x=_(""),c=_([]),h=_(!1),{t:P}=B(),f=_(""),v=_(""),p=_({show:!1,message:"",type:"error"});async function W(s){try{await navigator.clipboard.writeText(s),k("Code copied to clipboard!","success")}catch{k("Failed to copy code","error")}}const{locale:i}=B();F(()=>({title:i.value==="en"?"Google Workspace Promo Codes - Save 10%":i.value==="fr"?"Codes promo Google Workspace - Économisez 10%":i.value==="es"?"Códigos promocionales de Google Workspace - Ahorre 10%":i.value==="pt"?"Códigos promocionais do Google Workspace - Economize 10%":i.value==="de"?"Google Workspace Gutscheincodes - 10% sparen":i.value==="ja"?"Google Workspace プロモーションコード - 10%オフ":i.value==="hi"?"Google Workspace प्रोमो कोड - 10% बचाएं":i.value==="ru"?"Промокоды Google Workspace - Скидка 10%":"Google Workspace Promo Codes - Save 10%",meta:[{name:"description",content:i.value==="en"?"Get exclusive 10% discount promo codes for Google Workspace Business plans. Choose your region and get instant access to savings!":i.value==="fr"?"Obtenez des codes promo exclusifs avec 10% de réduction pour les forfaits Google Workspace Business. Choisissez votre région et économisez instantanément !":i.value==="es"?"Obtenga códigos promocionales exclusivos con 10% de descuento para planes Google Workspace Business. ¡Elija su región y obtenga acceso instantáneo a los ahorros!":i.value==="pt"?"Obtenha códigos promocionais exclusivos com 10% de desconto para planos Google Workspace Business. Escolha sua região e tenha acesso instantâneo às economias!":i.value==="de"?"Erhalten Sie exklusive 10% Rabatt-Gutscheincodes für Google Workspace Business-Pläne. Wählen Sie Ihre Region und sparen Sie sofort!":i.value==="ja"?"Google Workspace Business プランの10%割引プロモーションコードを取得。地域を選択して即座に割引を適用！":i.value==="hi"?"Google Workspace बिजनेस प्लान के लिए विशेष 10% छूट प्रोमो कोड प्राप्त करें। अपना क्षेत्र चुनें और तुरंत बचत का लाभ उठाएं!":i.value==="ru"?"Получите эксклюзивные промокоды со скидкой 10% на планы Google Workspace Business. Выберите свой регион и получите мгновенный доступ к экономии!":"Get exclusive 10% discount promo codes for Google Workspace Business plans. Choose your region and get instant access to savings!"}]}));function k(s,o="error"){p.value={show:!0,message:o==="success"?P("common.successMessage"):s,type:o},setTimeout(()=>{p.value.show=!1},5e3)}async function V(){if(!f.value||!v.value)return;h.value=!0;let s=null;p.value.show=!1;try{const o=await G(),{data:n,error:l}=await u.from("user_claims").select("promo_code_id").eq("ip_address",o);if(l)throw l;if(n&&n.length>0){const{data:a}=await u.from("promo_codes").select("code").in("id",n.map(y=>y.promo_code_id));if(a&&(c.value=a.map(y=>y.code),n.length>=3)){k(`You have already claimed the maximum of 3 promo codes: ${c.value.join(", ")}`,"warning"),h.value=!1;return}}const{data:m,error:b}=await u.from("promo_codes").select("id, code").match({type:v.value,region:f.value,is_claimed:!1}).filter("id","not.in",`(${(n==null?void 0:n.map(a=>a.promo_code_id).join(","))||""})`).limit(1).single();if(b)throw b;if(m){s=m.id;const{error:a}=await u.from("promo_codes").update({is_claimed:!0}).eq("id",m.id);if(a)throw a;const{error:y}=await u.from("user_claims").insert([{promo_code_id:m.id,type:v.value,region:f.value,ip_address:o}]);if(y)throw y;x.value=m.code,c.value=[...c.value,m.code],w.value&&u.from("business_emails").insert([{email:w.value}]).then(),k("Successfully retrieved your promo code!","success")}else throw new Error("No available promo codes")}catch(o){console.error("Error:",o),s&&await u.from("promo_codes").update({is_claimed:!1}).eq("id",s),x.value="",k(o.message||"Failed to get promo code. Please try again.")}finally{h.value=!1}}return R(async()=>{if(v.value&&f.value){const s=await G(),{data:o}=await u.from("user_claims").select("promo_code_id").eq("ip_address",s);if((o==null?void 0:o.length)>0){const{data:n}=await u.from("promo_codes").select("code").in("id",o.map(l=>l.promo_code_id));n&&(c.value=n.map(l=>l.code))}}}),U([v,f],async([s,o])=>{if(s&&o){const n=await G(),{data:l}=await u.from("user_claims").select("promo_code_id").eq("ip_address",n);if((l==null?void 0:l.length)>0){const{data:m}=await u.from("promo_codes").select("code").in("id",l.map(b=>b.promo_code_id));m&&(c.value=m.map(b=>b.code))}else c.value=[];x.value=""}}),(s,o)=>{const n=I,l=T,m=q,b=N;return d(),g("div",Y,[e("div",J,[e("div",K,[e("h1",Q,r(s.$t("home.title")),1),e("p",X,r(s.$t("home.subtitle")),1)]),e("div",Z,[e("form",{onSubmit:A(V,["prevent"]),class:"space-y-6"},[e("div",null,[o[7]||(o[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Plan",-1)),e("div",ee,[e("button",{type:"button",onClick:o[0]||(o[0]=a=>v.value="starter"),class:E(["p-4 text-left border rounded-lg focus:outline-none",t(v)==="starter"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"])},o[5]||(o[5]=[e("div",{class:"font-medium text-gray-900"},"Business Starter",-1),e("div",{class:"text-sm text-gray-500"},"$7/user/month",-1)]),2),e("button",{type:"button",onClick:o[1]||(o[1]=a=>v.value="standard"),class:E(["p-4 text-left border rounded-lg focus:outline-none",t(v)==="standard"?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"])},o[6]||(o[6]=[e("div",{class:"font-medium text-gray-900"},"Business Standard",-1),e("div",{class:"text-sm text-gray-500"},"$14/user/month",-1)]),2)])]),C(n,{modelValue:t(f),"onUpdate:modelValue":o[2]||(o[2]=a=>M(f)?f.value=a:null)},null,8,["modelValue"]),e("div",null,[e("label",oe,r(s.$t("common.businessEmail")),1),O(e("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>M(w)?w.value=a:null),type:"email",class:"w-full px-3 py-2 border border-gray-300 text-sm",placeholder:s.$t("common.emailAddresses.placeholder",{email:"your@business.com"})},null,8,se),[[D,t(w)]])]),t(h)?(d(),g("div",te,[C(l,{type:"text",class:"mb-4"}),o[8]||(o[8]=e("div",{class:"h-12 bg-gray-200 rounded mb-4"},null,-1)),C(l,{type:"text"})])):t(x)?(d(),g("div",ae,[t(p).show&&t(p).type==="success"?(d(),S(m,{key:0,message:t(p).message,type:t(p).type,class:"mb-4"},null,8,["message","type"])):$("",!0),e("h3",re,r(s.$t("common.promoCodeTitle")),1),e("div",{class:"text-2xl font-mono bg-gray-50 p-3 border border-gray-100 mb-2 text-green-600 cursor-pointer hover:bg-gray-100 transition-colors",onClick:o[4]||(o[4]=a=>W(t(x))),title:"Click to copy"},r(t(x)),1),e("p",ie,r(s.$t("common.useCodeMessage")),1)])):$("",!0),t(h)&&t(c).length>0?(d(),g("div",le,[C(l,{type:"text",class:"mb-4"}),e("div",ne,[(d(!0),g(j,null,z(t(c).length,a=>(d(),g("div",{key:a,class:"h-12 bg-gray-200 rounded"}))),128))])])):t(c).length>0?(d(),g("div",de,[o[9]||(o[9]=e("h3",{class:"text-sm font-medium text-gray-700 mb-4 text-center"},"Previously Claimed Codes",-1)),e("div",ce,[(d(!0),g(j,null,z(t(c),a=>(d(),g("div",{key:a,class:"font-mono bg-gray-50 p-3 border border-gray-100 text-center text-green-600 cursor-pointer hover:bg-gray-100 transition-colors",onClick:y=>W(a),title:"Click to copy"},r(a),9,me))),128))])])):$("",!0),t(p).show&&t(p).type!=="success"?(d(),S(m,{key:4,message:t(p).message,type:t(p).type},null,8,["message","type"])):$("",!0),e("button",{type:"submit",class:"w-full bg-blue-600 text-white px-4 py-2 text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t(h)||!t(f)||!t(v)||t(c).length>=3},[t(h)?(d(),g("span",pe,r(s.$t("common.processing")),1)):(d(),g("span",ge,r(s.$t("common.getPromoCode")),1))],8,ue),e("div",ve,[o[10]||(o[10]=e("svg",{class:"h-5 w-5 text-yellow-600 inline-block mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),L(" "+r(s.$t("common.limitedAvailability")),1)])],32)]),e("div",fe,[e("div",be,[e("h2",he,r(s.$t("common.features.title")),1),e("div",ye,[e("div",_e,[o[11]||(o[11]=e("svg",{class:"h-5 w-5 text-blue-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[e("h3",xe,r(s.$t("common.features.professionalEmail.title")),1),e("p",we,r(s.$t("common.features.professionalEmail.description")),1)])]),e("div",ke,[o[12]||(o[12]=e("svg",{class:"h-5 w-5 text-blue-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[e("h3",Ce,r(s.$t("common.features.videoMeetings.title")),1),e("p",$e,r(s.$t("common.features.videoMeetings.description")),1)])]),e("div",Ge,[o[13]||(o[13]=e("svg",{class:"h-5 w-5 text-blue-600 mt-1 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",null,[e("h3",We,r(s.$t("common.features.cloudStorage.title")),1),e("p",Be,r(s.$t("common.features.cloudStorage.description")),1)])])])]),C(b)])])])}}};export{Ie as default};
