{"file":"login-CSL70jSZ.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyCiB,sBAAkB;AACnC,UAAM,OAAO,gBAAgB;AAC7B,UAAM,SAAS,UAAU;AACzB,UAAM,eAAe,IAAI;AAAA,MACvB,MAAM;AAAA,MACN,SAAS;AAAA,MACT,MAAM;AAAA,IAAA,CACP;AAGK,UAAA,MAAM,CAAC,YAAY;AACvB,UAAI,SAAS;AACX,eAAO,KAAK,QAAQ;AAAA,MAAA;AAAA,IACtB,CACD;AAgCO,YAAA;AAAA,MACN,OAAO;AAAA,MACP,MAAM;AAAA,QACJ;AAAA,UACE,MAAM;AAAA,UACN,SAAS;AAAA,QAAA;AAAA,MACX;AAAA,IACF,CACD;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-white\">\n    <div class=\"max-w-2xl mx-auto px-4 py-12\">\n      <div class=\"text-center mb-8\">\n        <h1 class=\"text-3xl font-bold text-gray-900 mb-2\">Admin Login</h1>\n        <p class=\"text-gray-600\">Sign in to access the admin dashboard</p>\n      </div>\n      \n      <div class=\"bg-gray-50 p-6\">\n        <Notification\n          v-if=\"notification.show\"\n          :message=\"notification.message\"\n          :type=\"notification.type\"\n        />\n\n        <div class=\"bg-white border border-gray-200 p-8 rounded-lg\">\n          <div class=\"text-center\">\n            <svg class=\"h-12 w-12 text-blue-600 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <h2 class=\"text-xl font-semibold text-gray-900 mb-6\">Welcome Back</h2>\n          </div>\n\n          <button\n            @click=\"handleSignIn\"\n            class=\"w-full flex items-center justify-center bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors\"\n          >\n            <img\n              src=\"https://www.google.com/favicon.ico\"\n              alt=\"Google\"\n              class=\"h-5 w-5 mr-2\"\n            />\n            Sign in with Google\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst supabase = useSupabaseClient()\nconst user = useSupabaseUser()\nconst router = useRouter()\nconst notification = ref({\n  show: false,\n  message: '',\n  type: 'error'\n})\n\n// Redirect if already logged in\nwatch(user, (newUser) => {\n  if (newUser) {\n    router.push('/admin')\n  }\n})\n\nfunction showNotification(message, type = 'error') {\n  notification.value = {\n    show: true,\n    message,\n    type\n  }\n  setTimeout(() => {\n    notification.value.show = false\n  }, 5000)\n}\n\nasync function handleSignIn() {\n  try {\n    const { error } = await supabase.auth.signInWithOAuth({\n      provider: 'google',\n      options: {\n        queryParams: {\n          access_type: 'offline',\n          prompt: 'consent',\n        },\n        redirectTo: `${window.location.origin}/admin`\n      }\n    })\n    if (error) throw error\n  } catch (error) {\n    console.error('Error signing in:', error)\n    showNotification('Failed to sign in with Google. Please try again.')\n  }\n}\n\nuseHead({\n  title: 'Admin Login - Google Workspace Promo Codes',\n  meta: [\n    {\n      name: 'description',\n      content: 'Sign in to access the Google Workspace Promo Codes admin dashboard.'\n    }\n  ]\n})\n</script>\n"],"version":3}